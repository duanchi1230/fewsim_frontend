(this["webpackJsonpfewsim-susindex-demo"]=this["webpackJsonpfewsim-susindex-demo"]||[]).push([[0],{335:function(e,t,a){e.exports=a(724)},340:function(e,t,a){},341:function(e,t,a){},724:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(12),s=a.n(i),c=(a(340),a(64)),o=a(65),l=a(66),u=a(67),d=a(729),m=a(733),h=(a(341),a(332)),g=a(210),p=a(730),f=a(734),S=a(102),C=a(727),x=a(732),y=a(156),E=a(728),v=a(731),I=a(99),b=a.n(I),k=(a(723),{fontSize:14}),N=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).handleScenarioChange=function(t,a){var n=Object(g.a)(e.state.disabledScenarios);t.target.checked?e.setState({disabledScenarios:n.filter((function(e){return e!==a}))}):(n.push(a),e.setState({disabledScenarios:n}))},e.handleSusIndexChange=function(t,a){var n=Object(g.a)(e.state.disabledSusIndices);t.target.checked?e.setState({disabledSusIndices:n.filter((function(e){return e!==a}))}):(n.push(a),e.setState({disabledSusIndices:n}))},e.handleAggregateScenarios=function(t){e.setState({aggregateScenarios:t})},e.handleAggregateSusIndex=function(t){e.setState({aggregateIndices:t})},e.handleCompareButtonClick=function(t){e.props.handleCompareButtonClick(t)},e.state={disabledScenarios:[],disabledSusIndices:[],aggregateScenarios:!1,aggregateIndices:!1},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props.data,a=t.scenarioNames,n=t.susIndexNames,i=r.a.createElement(p.a,null,a.map((function(t,a){return r.a.createElement(f.a,{key:"scenario-".concat(a),onChange:function(a){return e.handleScenarioChange(a,t)},defaultChecked:!0},t)}))),s=r.a.createElement(p.a,null,n.map((function(t,a){return r.a.createElement(f.a,{key:"susindex-".concat(a),onChange:function(a){return e.handleSusIndexChange(a,t)},defaultChecked:!0},t)})));return r.a.createElement("div",null,r.a.createElement(S.a,{style:{marginBottom:16}},r.a.createElement("span",null,"Aggreate Scenarios"),r.a.createElement(C.a,{defaultChecked:this.state.aggregateScenarios,onChange:this.handleAggregateScenarios,style:{marginLeft:4,marginRight:8}}),r.a.createElement(x.a,{disabled:this.state.aggregateScenarios,overlay:i},r.a.createElement(y.a,null,"Scenarios")),r.a.createElement(E.a,{type:"vertical"}),r.a.createElement("span",null,"Aggreate Indices"),r.a.createElement(C.a,{defaultChecked:this.state.aggregateIndices,onChange:this.handleAggregateSusIndex,style:{marginLeft:4,marginRight:8}}),r.a.createElement(x.a,{disabled:this.state.aggregateIndices,overlay:s},r.a.createElement(y.a,null,"Sustainability Indices"))),r.a.createElement(S.a,{style:{height:685,overflowY:"scroll",overflowX:"hidden"}},this.state.aggregateScenarios||this.state.aggregateIndices?r.a.createElement(B,{data:this.props.data,disabledScenarios:this.state.disabledScenarios,disabledSusIndices:this.state.disabledSusIndices,aggregateScenarios:this.state.aggregateScenarios,aggregateIndices:this.state.aggregateIndices}):r.a.createElement(O,{data:this.props.data,disabledScenarios:this.state.disabledScenarios,disabledSusIndices:this.state.disabledSusIndices,handleCompareButtonClick:this.handleCompareButtonClick})))}}]),a}(n.Component),O=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).handleCompareButtonClick=function(t){e.props.handleCompareButtonClick(t)},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.disabledScenarios,i=t.disabledSusIndices,s=a.scenarioNames.filter((function(e){return-1===n.indexOf(e)})),c=a.susIndexNames.filter((function(e){return-1===i.indexOf(e)})),o=a.chartBlocks.filter((function(e){return s.indexOf(e.scenarioName)>=0&&c.indexOf(e.susIndexName)>=0}));return r.a.createElement("div",{style:{width:"100%",height:"100%"}},r.a.createElement(v.a,{grid:{gutter:8,column:s.length},dataSource:o,renderItem:function(t){return r.a.createElement(v.a.Item,null,r.a.createElement(d.a,{size:"small",bodyStyle:{padding:8,height:"100%"},style:{height:180}},r.a.createElement(b.a,{option:{title:{text:"".concat(t.scenarioName,", ").concat(t.susIndexName),textStyle:k},xAxis:{type:"category",data:a.timeRange},yAxis:{type:"value"},grid:{left:"3%",right:"4%",bottom:"3%",top:"18%",containLabel:!0},series:[{name:t.susIndexName,type:"line",data:t.series}]},style:{height:"100%",width:"100%"}}),r.a.createElement("div",{style:{position:"absolute",right:20,top:10}},r.a.createElement(y.a,{size:"small",shape:"circle",icon:"link",onClick:function(){return e.handleCompareButtonClick(t)}}))))}}))}}]),a}(n.Component),B=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(c.a)(this,a),t.call(this)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.disabledScenarios,n=e.disabledSusIndices,i=e.aggregateScenarios,s=e.aggregateIndices,c=[];if(i)for(var o=t.chartBlocks.filter((function(e){return-1===n.indexOf(e.susIndexName)})),l=t.susIndexNames.filter((function(e){return-1===n.indexOf(e)})),u=function(e){var t=l[e],a=o.filter((function(e){return e.susIndexName===t})),n={title:{text:t,textStyle:k},series:a.map((function(e){return{name:e.scenarioName,type:"line",data:e.series}}))};c.push(n)},d=0;d<l.length;d++)u(d);else if(s)for(var m=t.chartBlocks.filter((function(e){return-1===a.indexOf(e.scenarioName)})),g=t.scenarioNames.filter((function(e){return-1===a.indexOf(e)})),p=function(e){var t=g[e],a=m.filter((function(e){return e.scenarioName===t}));c.push({title:{text:t,textStyle:k},series:a.map((function(e){return{name:e.susIndexName,type:"line",data:e.series}}))})},f=0;f<g.length;f++)p(f);return r.a.createElement("div",{style:{width:"100%",height:"100%"}},c.map((function(e,a){return r.a.createElement(S.a,{key:"row-".concat(a),style:{height:180,width:"100%"}},r.a.createElement(b.a,{option:Object(h.a)({},e,{legend:{data:e.series.map((function(e){return e.name}))},tooltip:{trigger:"axis"},xAxis:{type:"category",data:t.timeRange},yAxis:{type:"value"},grid:{left:"3%",right:"4%",bottom:"3%",top:"18%",containLabel:!0}}),style:{height:"100%",width:"100%"}}))})))}}]),a}(n.Component),w=a(44),A=a(125),j=a(209),T=a.n(j),_={fontSize:14},L=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).handleCompareScenarioChange=function(t){e.props.handleCompareScenarioChange(t)},e.handleCompareSusIndexChange=function(t){e.props.handleCompareSusIndexChange(t)},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.compareChartBlock;if(null===a)return r.a.createElement("div",null,"Please select a chart first");var n=t.chartBlocks.filter((function(e){return a!==e})).map((function(e){return{distance:(t=e,n=a,T.a.norm2(T.a.sub(t.series,n.series))),chartBlock:e};var t,n})).sort((function(e,t){return e.distance<t.distance?-1:1}));return r.a.createElement("div",null,r.a.createElement(S.a,null,r.a.createElement(w.a,{span:6},r.a.createElement(S.a,{style:{marginTop:8}},r.a.createElement("span",null,"Scenario: "),r.a.createElement(A.a,{value:a.scenarioName,onChange:this.handleCompareScenarioChange},t.scenarioNames.map((function(e,t){return r.a.createElement(A.a.Option,{value:e,key:"scenario-".concat(t)},e)})))),r.a.createElement(S.a,{style:{marginTop:16}},r.a.createElement("span",null,"Sustainability Index: "),r.a.createElement(A.a,{value:a.susIndexName,onChange:this.handleCompareSusIndexChange},t.susIndexNames.map((function(e,t){return r.a.createElement(A.a.Option,{value:e,key:"susindex-".concat(t)},e)})))),r.a.createElement(S.a,{style:{marginTop:16}},r.a.createElement("span",null,"Distance Measure: "),r.a.createElement(A.a,{value:"euclidean"},r.a.createElement(A.a.Option,{value:"euclidean"},"Euclidean")))),r.a.createElement(w.a,{span:16},r.a.createElement(b.a,{option:{title:{text:"".concat(a.scenarioName,", ").concat(a.susIndexName),textStyle:_},xAxis:{type:"category",data:t.timeRange},yAxis:{type:"value"},grid:{left:"3%",right:"4%",bottom:"3%",top:"18%",containLabel:!0},series:[{name:a.susIndexName,type:"line",data:a.series}]},style:{height:162,width:368}}))),r.a.createElement(E.a,{orientation:"left"},"Most Similar Charts"),r.a.createElement("div",{style:{width:"100%",height:500,overflowX:"hidden",overflowY:"scroll"}},r.a.createElement(v.a,{grid:{gutter:8,column:3},dataSource:n,renderItem:function(e){return r.a.createElement(v.a.Item,null,r.a.createElement(d.a,{size:"small",bodyStyle:{padding:8,height:"100%"},style:{height:162}},r.a.createElement(b.a,{option:{title:{text:"".concat(e.chartBlock.scenarioName,", ").concat(e.chartBlock.susIndexName),textStyle:_},xAxis:{type:"category",data:t.timeRange},yAxis:{type:"value"},grid:{left:"3%",right:"4%",bottom:"3%",top:"18%",containLabel:!0},series:[{name:e.chartBlock.susIndexName,type:"line",data:e.chartBlock.series}]},style:{height:"100%",width:"100%"}}),r.a.createElement("div",{style:{position:"absolute",right:20,top:10}},"Distance: ".concat(e.distance.toFixed(3)))))}})))}}]),a}(n.Component),V=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(c.a)(this,a),(e=t.call(this)).handleViewStatusChange=function(t){e.setState({viewStatus:t.target.value})},e.handleCompareButtonClick=function(t){e.setState({compareChartBlock:t,viewStatus:"VIEW_STATUS_COMPARE"})},e.handleCompareScenarioChange=function(t){var a=e.state.data.chartBlocks.filter((function(a){return a.susIndexName===e.state.compareChartBlock.susIndexName&&a.scenarioName===t}));e.setState({compareChartBlock:a[0]})},e.handleCompareSusIndexChange=function(t){var a=e.state.data.chartBlocks.filter((function(a){return a.scenarioName===e.state.compareChartBlock.scenarioName&&a.susIndexName===t}));e.setState({compareChartBlock:a[0]})};for(var n={data:{timeRange:[2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018],scenarioNames:Array.from(Array(3)).map((function(e,t){return"Scenario ".concat(t)})),susIndexNames:Array.from(Array(4)).map((function(e,t){return"Index ".concat(t)}))}},r=[],i=0;i<4;i++)for(var s=0;s<3;s++)r.push({scenarioIdx:s,scenarioName:"Scenario ".concat(s),susIndexIdx:i,susIndexName:"Index ".concat(i),series:Array.from(Array(11)).map((function(e){return Math.random()}))});return n.data.chartBlocks=r,e.state=n,e.state.viewStatus="VIEW_STATUS_FLAT",e.state.compareChartBlock=null,e.state.compareScenarioName=null,e.state.compareSusIndexName=null,e}return Object(o.a)(a,[{key:"render",value:function(){var e;return"VIEW_STATUS_FLAT"===this.state.viewStatus?e=r.a.createElement(N,{data:this.state.data,handleCompareButtonClick:this.handleCompareButtonClick}):"VIEW_STATUS_COMPARE"===this.state.viewStatus&&(e=r.a.createElement(L,{data:this.state.data,compareChartBlock:this.state.compareChartBlock,handleCompareScenarioChange:this.handleCompareScenarioChange,handleCompareSusIndexChange:this.handleCompareSusIndexChange})),r.a.createElement("div",{style:{width:1200,height:800,marginLeft:20,marginTop:20}},r.a.createElement(d.a,{size:"small",title:"Sustainability Index View",headStyle:{background:"rgb(236, 236, 236)"},style:{width:"100%",height:"100%"},extra:r.a.createElement(m.a.Group,{onChange:this.handleViewStatusChange,defaultValue:"VIEW_STATUS_FLAT",value:this.state.viewStatus,size:"small"},r.a.createElement(m.a.Button,{value:"VIEW_STATUS_FLAT"},"Flat Mode"),r.a.createElement(m.a.Button,{value:"VIEW_STATUS_COMPARE"},"Compare Mode"))},e))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(V,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[335,1,2]]]);
//# sourceMappingURL=main.a03708fc.chunk.js.map